<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ TEST INT√âGRATION V12.3 - 15 Produits OM Scrap√©s</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #3b82f6 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .header {
            background: linear-gradient(135deg, #009ddb 0%, #0061a0 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            text-align: center;
        }
        .stat-value {
            font-size: 3em;
            font-weight: bold;
            color: #009ddb;
            margin-bottom: 10px;
        }
        .stat-label {
            font-size: 1em;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        .badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 8px 15px;
            border-radius: 25px;
            font-size: 11px;
            font-weight: bold;
            z-index: 10;
            box-shadow: 0 3px 10px rgba(16, 185, 129, 0.4);
        }
        .product-emoji {
            font-size: 5em;
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
        }
        .product-details {
            padding: 25px;
        }
        .product-name {
            font-size: 1.4em;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 10px;
        }
        .product-reference {
            font-size: 0.85em;
            color: #9ca3af;
            margin-bottom: 15px;
            font-family: 'Courier New', monospace;
        }
        .product-price {
            font-size: 2em;
            color: #009ddb;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .product-category {
            display: inline-block;
            background: #e5e7eb;
            color: #4b5563;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-bottom: 15px;
        }
        .product-stock {
            display: inline-block;
            background: #d1fae5;
            color: #065f46;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-bottom: 15px;
            margin-left: 10px;
        }
        .product-description {
            font-size: 0.95em;
            color: #6b7280;
            line-height: 1.6;
            margin-bottom: 15px;
            border-left: 3px solid #009ddb;
            padding-left: 15px;
        }
        .product-specs {
            background: #f9fafb;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        .spec-title {
            font-size: 0.95em;
            font-weight: bold;
            color: #374151;
            margin-bottom: 10px;
        }
        .spec-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .pill {
            background: white;
            border: 2px solid #e5e7eb;
            color: #4b5563;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
        }
        .images-count {
            background: #fef3c7;
            color: #92400e;
            padding: 8px 15px;
            border-radius: 10px;
            font-size: 0.85em;
            text-align: center;
            font-weight: 600;
        }
        .url-link {
            background: #dbeafe;
            color: #1e40af;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.8em;
            text-align: center;
            margin-top: 10px;
            word-break: break-all;
        }
        .test-section {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        .test-section h2 {
            color: #1f2937;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .test-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f9fafb;
            border-radius: 10px;
            border-left: 4px solid #10b981;
        }
        .test-item:before {
            content: '‚úÖ';
            font-size: 1.5em;
            margin-right: 15px;
        }
        .footer {
            text-align: center;
            color: white;
            font-size: 1.1em;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üß™ TEST INT√âGRATION COMPL√àTE V12.3</h1>
        <p>15 Produits OM Scrap√©s avec Sp√©cifications Compl√®tes</p>
        <p style="font-size: 0.9em; margin-top: 10px; opacity: 0.8;">Source: boutique.om.fr | Images HD: static.om.net</p>
    </div>

    <div class="stats">
        <div class="stat-card">
            <div class="stat-value" id="totalProducts">0</div>
            <div class="stat-label">Produits Scrap√©s</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="totalImages">0</div>
            <div class="stat-label">Images HD</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="totalStock">0</div>
            <div class="stat-label">Stock Total</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="avgPrice">0‚Ç¨</div>
            <div class="stat-label">Prix Moyen</div>
        </div>
    </div>

    <div class="test-section">
        <h2>‚úÖ V√©rifications Automatiques</h2>
        <div id="verifications"></div>
    </div>

    <h2 style="color: white; text-align: center; margin-bottom: 20px; font-size: 2em;">üõçÔ∏è TOUS LES PRODUITS OM SCRAP√âS</h2>

    <div class="products-grid" id="productsGrid"></div>

    <div class="footer">
        <strong>Version 12.3.0</strong> - Int√©gration Compl√®te R√©ussie ‚úÖ<br>
        Z√âRO R√âGRESSION | 15 Produits | Images HD | Sp√©cifications Compl√®tes
    </div>

    <script src="üõçÔ∏è_SCRAPER_PRODUITS_CLUBS.js"></script>
    <script>
        // Charger les produits OM
        const produitsOM = PRODUITS_CLUBS_SCRAPES['olympique-de-marseille'] || [];
        
        // Calculer les stats
        const totalProducts = produitsOM.length;
        const totalImages = produitsOM.reduce((sum, p) => sum + (p.images ? p.images.length : 1), 0);
        const totalStock = produitsOM.reduce((sum, p) => sum + (p.stock || 0), 0);
        const avgPrice = (produitsOM.reduce((sum, p) => sum + p.prix, 0) / totalProducts).toFixed(2);

        // Afficher les stats
        document.getElementById('totalProducts').textContent = totalProducts;
        document.getElementById('totalImages').textContent = totalImages;
        document.getElementById('totalStock').textContent = totalStock.toLocaleString();
        document.getElementById('avgPrice').textContent = avgPrice + '‚Ç¨';

        // V√©rifications automatiques
        const verifications = [
            { test: 'Nombre de produits = 15', result: totalProducts === 15 },
            { test: 'Tous les produits ont un prix', result: produitsOM.every(p => p.prix > 0) },
            { test: 'Tous les produits ont une r√©f√©rence', result: produitsOM.every(p => p.reference) },
            { test: 'Tous les produits ont des images HD', result: produitsOM.every(p => p.images && p.images.length > 0) },
            { test: 'Tous les produits ont des tailles (sauf accessoires)', result: produitsOM.filter(p => p.categorie.includes('V√™tements') || p.categorie.includes('Maillots')).every(p => p.tailles && p.tailles.length > 0) },
            { test: 'Tous les produits ont des couleurs', result: produitsOM.every(p => p.couleurs && p.couleurs.length > 0) },
            { test: 'Tous les produits ont des sp√©cifications', result: produitsOM.every(p => p.specifications && Object.keys(p.specifications).length > 0) },
            { test: 'Tous les produits ont une URL boutique.om.fr', result: produitsOM.every(p => p.url && p.url.includes('boutique.om.fr')) },
            { test: 'Images h√©berg√©es sur static.om.net', result: produitsOM.every(p => p.image.includes('static.om.net')) }
        ];

        const verificationsHTML = verifications.map(v => `
            <div class="test-item" style="border-left-color: ${v.result ? '#10b981' : '#ef4444'}">
                ${v.test}
            </div>
        `).join('');
        document.getElementById('verifications').innerHTML = verificationsHTML;

        // Afficher les produits
        const grid = document.getElementById('productsGrid');
        grid.innerHTML = produitsOM.map((p, index) => `
            <div class="product-card">
                <div class="badge">SCRAP√â #${index + 1}</div>
                <div class="product-emoji">${p.emoji || 'üõçÔ∏è'}</div>
                <div class="product-details">
                    <div class="product-name">${p.nom}</div>
                    <div class="product-reference">R√©f: ${p.reference}</div>
                    <div class="product-price">${p.prix.toFixed(2)} ‚Ç¨</div>
                    <span class="product-category">${p.categorie}</span>
                    <span class="product-stock">üì¶ Stock: ${p.stock}</span>
                    <div class="product-description">${p.description}</div>
                    
                    ${p.tailles ? `
                        <div class="product-specs">
                            <div class="spec-title">üìè Tailles (${p.tailles.length})</div>
                            <div class="spec-pills">
                                ${p.tailles.map(t => `<span class="pill">${t}</span>`).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    ${p.couleurs ? `
                        <div class="product-specs">
                            <div class="spec-title">üé® Couleurs (${p.couleurs.length})</div>
                            <div class="spec-pills">
                                ${p.couleurs.map(c => `<span class="pill">${c}</span>`).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    ${p.specifications ? `
                        <div class="product-specs">
                            <div class="spec-title">üìã Sp√©cifications (${Object.keys(p.specifications).length})</div>
                            ${Object.entries(p.specifications).slice(0, 3).map(([k, v]) => `
                                <div style="font-size: 0.85em; padding: 5px 0; color: #6b7280;">
                                    <strong style="color: #374151;">${k}:</strong> ${v}
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                    
                    <div class="images-count">
                        üñºÔ∏è ${p.images ? p.images.length : 1} image${p.images && p.images.length > 1 ? 's' : ''} HD
                    </div>
                    
                    <div class="url-link">
                        üîó <a href="${p.url}" target="_blank" style="color: #1e40af; text-decoration: none; font-weight: bold;">Voir sur boutique.om.fr</a>
                    </div>
                </div>
            </div>
        `).join('');

        // Log de confirmation
        console.log('‚úÖ TEST V12.3 - Tous les produits charg√©s:', produitsOM.length);
        console.log('üìä Stats:', { totalProducts, totalImages, totalStock, avgPrice });
        console.log('üîç V√©rifications:', verifications.every(v => v.result) ? 'TOUTES R√âUSSIES ‚úÖ' : 'ERREURS D√âTECT√âES ‚ö†Ô∏è');
    </script>
</body>
</html>
