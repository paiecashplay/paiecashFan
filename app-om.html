<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaieCashFan - Olympique de Marseille</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: white;
        }

        /* HEADER */
        .header {
            background: rgba(0, 0, 0, 0.6);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .club-logo-header {
            width: 50px;
            height: 50px;
        }

        .header-info h2 {
            font-size: 18px;
        }

        .header-info p {
            font-size: 14px;
            opacity: 0.8;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .user-info {
            text-align: right;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #2563eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #f97316;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* MENU */
        .menu {
            background: rgba(0, 0, 0, 0.4);
            padding: 10px;
            display: flex;
            overflow-x: auto;
            gap: 10px;
            scrollbar-width: none;
        }

        .menu::-webkit-scrollbar {
            display: none;
        }

        .menu-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
        }

        .menu-btn.active {
            background: rgba(59, 130, 246, 0.5);
        }

        /* CONTENT */
        .content {
            padding: 20px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* CARDS */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        /* BOUTONS */
        .btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #2563eb;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
        }

        /* WALLET CARD */
        .wallet-card {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .wallet-balance {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
        }

        .wallet-info {
            font-size: 14px;
            opacity: 0.9;
        }

        /* PARTENAIRES */
        .partners-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .partner-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .partner-logo {
            width: 60px;
            height: 60px;
            margin: 0 auto 10px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        .partner-logo.mc {
            background: #FFC107;
        }

        .partner-logo.carrefour {
            background: #0052CC;
        }

        .partner-logo.uber {
            background: #00A86B;
        }

        .partner-logo.decathlon {
            background: #0082C3;
        }

        .partner-cashback {
            color: #4ade80;
            font-weight: bold;
            margin-top: 10px;
        }

        .partner-status {
            color: #4ade80;
            font-size: 12px;
            margin-top: 5px;
        }

        /* TRANSACTIONS */
        .transaction-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .transaction-icon {
            font-size: 32px;
        }

        .transaction-details {
            flex: 1;
            margin-left: 15px;
        }

        .transaction-name {
            font-weight: bold;
        }

        .transaction-date {
            font-size: 12px;
            opacity: 0.7;
        }

        .transaction-amount {
            font-size: 18px;
            font-weight: bold;
        }

        .transaction-amount.positive {
            color: #4ade80;
        }

        .transaction-amount.negative {
            color: #f87171;
        }

        .transaction-cashback {
            font-size: 12px;
            color: #4ade80;
        }

        .transaction-status {
            background: rgba(74, 222, 128, 0.2);
            color: #4ade80;
            padding: 5px 10px;
            border-radius: 10px;
            font-size: 12px;
            margin-top: 5px;
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
        }

        .modal-title {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .close-btn {
            float: right;
            font-size: 24px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .partners-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <div class="header">
        <div class="header-left">
            <img src="https://upload.wikimedia.org/wikipedia/commons/d/d8/Olympique_Marseille_logo.svg" alt="OM" class="club-logo-header">
            <div class="header-info">
                <h2>Olympique de Marseille</h2>
                <p>Platine üíé</p>
            </div>
        </div>
        <div class="user-info">
            <div style="position: relative;">
                <div class="user-avatar">üë§</div>
                <div class="notification-badge">5</div>
            </div>
            <div style="font-size: 12px; margin-top: 5px;">ETOT Constantin Nicolas</div>
            <div style="font-size: 11px; opacity: 0.7;">etot@paiecash.com</div>
            <button onclick="seDeconnecter()" style="margin-top: 10px; padding: 8px 15px; background: rgba(239, 68, 68, 0.8); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 11px; font-weight: bold; transition: all 0.3s;">
                üö™ D√©connexion
            </button>
        </div>
    </div>

    <!-- MENU -->
    <div class="menu">
        <button class="menu-btn active" onclick="showSection('accueil')">üè† Accueil</button>
        <button class="menu-btn" onclick="showSection('fidelite')">üíé Fid√©lit√©</button>
        <button class="menu-btn" onclick="showSection('legendes')">‚≠ê L√©gendes</button>
        <button class="menu-btn" onclick="showSection('billets')">üéüÔ∏è Billets</button>
        <button class="menu-btn" onclick="showSection('boutique')">üõçÔ∏è Boutique</button>
        <button class="menu-btn" onclick="showSection('paiement')">üí≥ Paiement</button>
        <button class="menu-btn" onclick="showSection('profil')">üë§ Profil</button>
    </div>

    <!-- CONTENT -->
    <div class="content">
        <!-- ACCUEIL -->
        <div class="section active" id="accueil">
            <div class="card">
                <div class="card-title">üëã Bienvenue chez l'OM !</div>
                <p>Vous √™tes connect√© en tant que <strong>test test</strong></p>
                <p style="margin-top: 10px;">Niveau : Platine üíé | 4,250 points</p>
            </div>

            <!-- WALLET PAIECASH -->
            <div class="wallet-card">
                <div class="wallet-info">üí≥ WALLET PAIECASH</div>
                <div class="wallet-info">Num√©ro d'identification</div>
                <div style="font-size: 20px; font-weight: bold; margin: 15px 0; letter-spacing: 2px;">WLT-OM-2025-089374</div>
                <div class="wallet-balance" id="soldeAccueil">1247.50 ‚Ç¨</div>
                <div class="wallet-info">Solde disponible</div>
            </div>

            <!-- TRANSACTIONS R√âCENTES -->
            <div class="card">
                <div class="card-title">üìä Transactions R√©centes</div>
                <div id="transactionsAccueil">
                    <div class="transaction-item">
                        <div class="transaction-icon">üçî</div>
                        <div class="transaction-details">
                            <div class="transaction-name">McDonald's - Menu</div>
                            <div class="transaction-date">Aujourd'hui, 14:23</div>
                        </div>
                        <div class="transaction-amount negative">-13.00 ‚Ç¨</div>
                    </div>
                    <div class="transaction-item">
                        <div class="transaction-icon">üí∞</div>
                        <div class="transaction-details">
                            <div class="transaction-name">Recharge Wallet</div>
                            <div class="transaction-date">Aujourd'hui, 12:15</div>
                        </div>
                        <div class="transaction-amount positive">+50.00 ‚Ç¨</div>
                    </div>
                    <div class="transaction-item">
                        <div class="transaction-icon">üõí</div>
                        <div class="transaction-details">
                            <div class="transaction-name">Carrefour</div>
                            <div class="transaction-date">Hier, 18:45</div>
                        </div>
                        <div class="transaction-amount negative">-45.80 ‚Ç¨</div>
                    </div>
                </div>
                <button class="btn" onclick="showSection('paiement')" style="margin-top: 15px;">Voir toutes les transactions</button>
            </div>

            <div class="card">
                <div class="card-title">Actions Rapides</div>
                <button class="btn" onclick="showSection('paiement')">üí≥ Recharger Wallet</button>
                <button class="btn btn-secondary" onclick="showSection('boutique')">üõçÔ∏è Aller √† la Boutique</button>
            </div>
        </div>

        <!-- PAIEMENT -->
        <div class="section" id="paiement">
            <div class="wallet-card">
                <div class="wallet-info">PAIECASH</div>
                <div class="wallet-info">SOLDE TOTAL</div>
                <div class="wallet-balance" id="soldeTotal">1247.50 ‚Ç¨</div>
                <div class="wallet-info">Wallet (<span id="soldeWallet">625.00</span>‚Ç¨) + Carte (<span id="soldeCarte">622.50</span>‚Ç¨) + <span id="cashback">37.20</span>‚Ç¨ cashback</div>
                <div style="margin-top: 20px; font-size: 14px;">5234 8765 1234 5678</div>
                <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 12px;">
                    <div>TITULAIRE<br>ETOT CONSTANTIN</div>
                    <div>EXPIRE<br>12/34</div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">üîÑ Transferts Wallet ‚ÜîÔ∏è Carte</div>
                <div style="display: flex; gap: 20px; margin: 20px 0;">
                    <div style="flex: 1; text-align: center;">
                        <div style="font-size: 32px; margin-bottom: 10px;">üí∞</div>
                        <div style="font-weight: bold;">Wallet PaieCash</div>
                        <div style="font-size: 32px; color: #3b82f6; margin: 10px 0;"><span id="walletTransfert">625.00</span> ‚Ç¨</div>
                    </div>
                    <div style="display: flex; flex-direction: column; justify-content: center; gap: 10px;">
                        <div style="font-size: 24px;">‚Üí</div>
                        <div style="font-size: 24px;">‚Üê</div>
                    </div>
                    <div style="flex: 1; text-align: center;">
                        <div style="font-size: 32px; margin-bottom: 10px;">üí≥</div>
                        <div style="font-weight: bold;">Carte Bancaire</div>
                        <div style="font-size: 32px; color: #3b82f6; margin: 10px 0;"><span id="carteTransfert">622.50</span> ‚Ç¨</div>
                    </div>
                </div>
            </div>

            <button class="btn" onclick="rechargerWallet()">üí∞ Recharger Wallet</button>
            <button class="btn btn-secondary" onclick="retirerVersCarte()">üí∏ Retirer vers Carte</button>

            <!-- GESTION WALLET & CARTE -->
            <div class="card">
                <div class="card-title">üîß Gestion Wallet & Carte</div>
                <div style="display: flex; gap: 15px; margin: 20px 0;">
                    <button class="btn" onclick="activerVirementAuto()" style="flex: 1; background: linear-gradient(135deg, #3b82f6, #1e40af);">
                        üîÑ Virement Automatique
                        <div style="font-size: 12px; margin-top: 5px;">Activer les retraits auto</div>
                    </button>
                </div>
                <div style="display: flex; gap: 15px;">
                    <button class="btn" onclick="ouvrirBNPL()" style="flex: 1; background: linear-gradient(135deg, #f59e0b, #d97706);">
                        üí≥ BNPL - Payer plus tard
                        <div style="font-size: 12px; margin-top: 5px;">3x, 4x ou 6x sans/avec frais</div>
                    </button>
                </div>
            </div>

            <!-- STABLECOINS & CRYPTO -->
            <div class="card">
                <div class="card-title">üíé Mes Stablecoins & Crypto</div>
                <p style="margin-bottom: 20px;">Wallet multi-devises avec conversion automatique - <strong>Cliquez pour payer</strong></p>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div onclick="payerAvecCrypto('USDC', 847.30, 801.25)" style="background: linear-gradient(135deg, #10b981, #059669); padding: 20px; border-radius: 15px; color: white; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="font-size: 12px; opacity: 0.9;">USDC Stablecoin</div>
                        <div style="font-size: 24px; font-weight: bold; margin: 10px 0;">847.30 $</div>
                        <div style="font-size: 11px; opacity: 0.8;">‚âà 801.25 ‚Ç¨</div>
                        <div style="margin-top: 10px; font-size: 11px; background: rgba(255,255,255,0.2); padding: 5px; border-radius: 5px;">üí≥ Cliquer pour payer</div>
                    </div>
                    <div onclick="payerAvecCrypto('OM Coin', 2450, 24.50)" style="background: linear-gradient(135deg, #3b82f6, #1e40af); padding: 20px; border-radius: 15px; color: white; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="font-size: 12px; opacity: 0.9;">OM Coin</div>
                        <div style="font-size: 24px; font-weight: bold; margin: 10px 0;">2,450 OMC</div>
                        <div style="font-size: 11px; opacity: 0.8;">‚âà 24.50 ‚Ç¨ (0.01‚Ç¨/coin)</div>
                        <div style="margin-top: 10px; font-size: 11px; background: rgba(255,255,255,0.2); padding: 5px; border-radius: 5px;">üí≥ Cliquer pour payer</div>
                    </div>
                    <div onclick="payerAvecCrypto('USDT', 523.80, 495.60)" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9); padding: 20px; border-radius: 15px; color: white; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="font-size: 12px; opacity: 0.9;">USDT Tether</div>
                        <div style="font-size: 24px; font-weight: bold; margin: 10px 0;">523.80 $</div>
                        <div style="font-size: 11px; opacity: 0.8;">‚âà 495.60 ‚Ç¨</div>
                        <div style="margin-top: 10px; font-size: 11px; background: rgba(255,255,255,0.2); padding: 5px; border-radius: 5px;">üí≥ Cliquer pour payer</div>
                    </div>
                    <div onclick="payerAvecCrypto('Ethereum', 0.084, 142.80)" style="background: linear-gradient(135deg, #ef4444, #dc2626); padding: 20px; border-radius: 15px; color: white; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="font-size: 12px; opacity: 0.9;">Ethereum</div>
                        <div style="font-size: 24px; font-weight: bold; margin: 10px 0;">0.084 ETH</div>
                        <div style="font-size: 11px; opacity: 0.8;">‚âà 142.80 ‚Ç¨</div>
                        <div style="margin-top: 10px; font-size: 11px; background: rgba(255,255,255,0.2); padding: 5px; border-radius: 5px;">üí≥ Cliquer pour payer</div>
                    </div>
                </div>
                <button class="btn" onclick="convertirCrypto()" style="margin-top: 20px;">üîÑ Convertir / √âchanger</button>
            </div>

            <!-- CB COULEUR CLUB + MASTERCARD -->
            <div class="card">
                <div class="card-title">üí≥ Ma Carte Bancaire OM (Mastercard)</div>
                <div style="background: linear-gradient(135deg, #1e3a8a, #0ea5e9); padding: 30px; border-radius: 20px; color: white; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 20px; right: 20px; font-size: 36px; opacity: 0.3;">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" alt="Mastercard" style="width: 60px; opacity: 0.7;">
                    </div>
                    <div style="margin-bottom: 40px;">
                        <div style="font-size: 14px; opacity: 0.9;">CARTE OFFICIELLE</div>
                        <div style="font-size: 20px; font-weight: bold;">OLYMPIQUE DE MARSEILLE</div>
                    </div>
                    <div style="font-size: 24px; letter-spacing: 4px; margin: 20px 0;">5234 8765 1234 5678</div>
                    <div style="display: flex; justify-content: space-between;">
                        <div>
                            <div style="font-size: 10px; opacity: 0.8;">TITULAIRE</div>
                            <div style="font-size: 14px; font-weight: bold;">ETOT CONSTANTIN</div>
                        </div>
                        <div>
                            <div style="font-size: 10px; opacity: 0.8;">EXPIRE</div>
                            <div style="font-size: 14px; font-weight: bold;">12/27</div>
                        </div>
                        <div>
                            <div style="font-size: 10px; opacity: 0.8;">CVV</div>
                            <div style="font-size: 14px; font-weight: bold;">***</div>
                        </div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px;">
                    <button class="btn btn-secondary" onclick="bloquerCarte()" style="font-size: 13px;">üîí Bloquer</button>
                    <button class="btn btn-secondary" onclick="voirPIN()" style="font-size: 13px;">üëÅÔ∏è Voir PIN</button>
                    <button class="btn btn-secondary" onclick="gererLimites()" style="font-size: 13px;">‚öôÔ∏è Limites</button>
                </div>
            </div>

            <!-- QR CODE & LIEN DE PAIEMENT -->
            <div class="card">
                <div class="card-title">üì± Recevoir un Paiement</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0;">
                    <div style="text-align: center; background: white; padding: 20px; border-radius: 15px;">
                        <div style="font-size: 80px; line-height: 1;">üì≤</div>
                        <div style="margin-top: 10px; font-weight: bold; color: #1e293b;">QR Code</div>
                        <div style="font-size: 12px; color: #64748b; margin-top: 5px;">Scan pour payer</div>
                        <button class="btn btn-secondary" onclick="afficherQRCode()" style="margin-top: 15px; font-size: 13px;">üëÅÔ∏è Afficher</button>
                    </div>
                    <div style="text-align: center; background: white; padding: 20px; border-radius: 15px;">
                        <div style="font-size: 80px; line-height: 1;">üîó</div>
                        <div style="margin-top: 10px; font-weight: bold; color: #1e293b;">Lien de Paiement</div>
                        <div style="font-size: 12px; color: #64748b; margin-top: 5px;">Partagez par SMS/email</div>
                        <button class="btn btn-secondary" onclick="copierLienPaiement()" style="margin-top: 15px; font-size: 13px;">üìã Copier</button>
                    </div>
                </div>
            </div>

            <!-- AGENT PAIECASH : CASH IN / CASH OUT -->
            <div class="card">
                <div class="card-title">üíµ Agent PaieCash - Cash In / Cash Out</div>
                <p style="margin-bottom: 20px;">Le club OM est Agent Officiel PaieCash pour vos op√©rations esp√®ces</p>
                <div style="background: linear-gradient(135deg, #22c55e, #16a34a); padding: 20px; border-radius: 15px; color: white; margin-bottom: 20px;">
                    <div style="font-size: 24px; margin-bottom: 10px;">üè™ Point Agent OM</div>
                    <div style="font-size: 14px; opacity: 0.9;">üìç Boutique Orange V√©lodrome</div>
                    <div style="font-size: 14px; opacity: 0.9;">üïí Ouvert 9h-19h (jours de match jusqu'√† 23h)</div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <button class="btn" onclick="cashIn()">üí∞ Cash In
                        <div style="font-size: 11px; margin-top: 5px;">D√©poser esp√®ces ‚Üí Wallet</div>
                    </button>
                    <button class="btn btn-secondary" onclick="cashOut()">üí∏ Cash Out
                        <div style="font-size: 11px; margin-top: 5px;">Retirer Wallet ‚Üí Esp√®ces</div>
                    </button>
                </div>
                <div style="margin-top: 20px; padding: 15px; background: rgba(59, 130, 246, 0.1); border-radius: 10px; border-left: 4px solid #3b82f6;">
                    <div style="font-weight: bold; margin-bottom: 5px;">üåç Mode Touriste activ√©</div>
                    <div style="font-size: 13px; color: #64748b;">Accepte : <span onclick="payerAvecModeTouriste('Alipay')" style="cursor: pointer; text-decoration: underline;">Alipay</span>, <span onclick="payerAvecModeTouriste('WeChat Pay')" style="cursor: pointer; text-decoration: underline;">WeChat Pay</span>, <span onclick="payerAvecModeTouriste('M-Pesa')" style="cursor: pointer; text-decoration: underline;">M-Pesa</span>, <span onclick="payerAvecModeTouriste('Orange Money')" style="cursor: pointer; text-decoration: underline;">Orange Money</span>, <span onclick="payerAvecModeTouriste('MTN Mobile Money')" style="cursor: pointer; text-decoration: underline;">MTN Mobile Money</span></div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">ü§ù Partenaires avec Cashback</div>
                <p style="margin-bottom: 20px;">Choisissez votre partenaire pour voir le menu</p>
                <div style="display: grid; gap: 15px;">
                    <div onclick="ouvrirMenuPartenaire('McDonald\\'s', 5)" style="background: rgba(255, 193, 7, 0.2); padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s;">
                        <div style="font-size: 40px; margin-bottom: 10px;">üçî</div>
                        <div style="font-weight: bold; font-size: 18px;">McDonald's</div>
                        <div style="color: #4ade80; font-weight: bold; margin-top: 5px;">‚úÖ Wallet connect√© - Cashback 5%</div>
                        <div style="font-size: 13px; margin-top: 5px; opacity: 0.8;">Cliquez pour ouvrir le menu</div>
                    </div>
                    <div onclick="ouvrirMenuPartenaire('Carrefour', 3)" style="background: rgba(0, 82, 204, 0.2); padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s;">
                        <div style="font-size: 40px; margin-bottom: 10px;">üõí</div>
                        <div style="font-weight: bold; font-size: 18px;">Carrefour</div>
                        <div style="color: #4ade80; font-weight: bold; margin-top: 5px;">‚úÖ Wallet connect√© - Cashback 3%</div>
                        <div style="font-size: 13px; margin-top: 5px; opacity: 0.8;">Cliquez pour ouvrir le catalogue</div>
                    </div>
                    <div onclick="ouvrirMenuPartenaire('Uber Eats', 4)" style="background: rgba(0, 168, 107, 0.2); padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s;">
                        <div style="font-size: 40px; margin-bottom: 10px;">üöó</div>
                        <div style="font-weight: bold; font-size: 18px;">Uber Eats</div>
                        <div style="color: #4ade80; font-weight: bold; margin-top: 5px;">‚úÖ Wallet connect√© - Cashback 4%</div>
                        <div style="font-size: 13px; margin-top: 5px; opacity: 0.8;">Cliquez pour ouvrir le menu</div>
                    </div>
                    <div onclick="ouvrirMenuPartenaire('D√©cathlon', 6)" style="background: rgba(0, 130, 195, 0.2); padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s;">
                        <div style="font-size: 40px; margin-bottom: 10px;">‚öΩ</div>
                        <div style="font-weight: bold; font-size: 18px;">D√©cathlon</div>
                        <div style="color: #4ade80; font-weight: bold; margin-top: 5px;">‚úÖ Wallet connect√© - Cashback 6%</div>
                        <div style="font-size: 13px; margin-top: 5px; opacity: 0.8;">Cliquez pour ouvrir le catalogue</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div class="card-title" style="margin: 0;">üìä Historique des Transactions</div>
                    <button class="btn" style="width: auto; padding: 10px 20px; margin: 0;">üíæ Exporter (Comptabilit√©)</button>
                </div>
                <p style="margin-bottom: 20px;">Toutes vos transactions d√©taill√©es, exportables pour votre comptabilit√©. <strong>Cliquez sur une transaction pour voir le ticket d√©taill√©.</strong></p>

                <div class="transaction-item" onclick="afficherTicket('McDonald\'s', 9.50, 0.48, '08/12/2025 14:19:16', 'TRX-MC-089374')" style="cursor: pointer; transition: all 0.3s;">
                    <div class="transaction-icon">üçî</div>
                    <div class="transaction-details">
                        <div class="transaction-name">BIG Mac Menu - McDonald's</div>
                        <div class="transaction-date">08/12/2025 14:19:16</div>
                        <div class="transaction-cashback">+0.48 ‚Ç¨ cashback (5%)</div>
                        <div class="transaction-status">‚úÖ Compl√©t√©</div>
                        <div style="font-size: 11px; color: #3b82f6; margin-top: 5px;">üé´ Cliquer pour voir le ticket</div>
                    </div>
                    <div class="transaction-amount negative">-9.50 EUR</div>
                </div>

                <div class="transaction-item" onclick="afficherTicket('Virement Ami', 50.00, 0, '07/12/2025 16:19:16', 'TRX-VIR-089375')" style="cursor: pointer; transition: all 0.3s;">
                    <div class="transaction-icon">üí∞</div>
                    <div class="transaction-details">
                        <div class="transaction-name">Ajout Ami Nicolas</div>
                        <div class="transaction-date">07/12/2025 16:19:16</div>
                        <div class="transaction-status">‚úÖ Compl√©t√©</div>
                        <div style="font-size: 11px; color: #3b82f6; margin-top: 5px;">üé´ Cliquer pour voir le ticket</div>
                    </div>
                    <div class="transaction-amount positive">+50.00 EUR</div>
                </div>

                <div class="transaction-item" onclick="afficherTicket('Carrefour', 45.80, 1.37, '06/12/2025 10:32:08', 'TRX-CAR-089376')" style="cursor: pointer; transition: all 0.3s;">
                    <div class="transaction-icon">üõí</div>
                    <div class="transaction-details">
                        <div class="transaction-name">Courses - Carrefour</div>
                        <div class="transaction-date">06/12/2025 10:32:08</div>
                        <div class="transaction-cashback">+1.37 ‚Ç¨ cashback (3%)</div>
                        <div class="transaction-status">‚úÖ Compl√©t√©</div>
                        <div style="font-size: 11px; color: #3b82f6; margin-top: 5px;">üé´ Cliquer pour voir le ticket</div>
                    </div>
                    <div class="transaction-amount negative">-45.80 EUR</div>
                </div>

                <div class="transaction-item" onclick="afficherTicket('Uber Eats', 22.90, 0.92, '05/12/2025 19:45:22', 'TRX-UBR-089377')" style="cursor: pointer; transition: all 0.3s;">
                    <div class="transaction-icon">üöó</div>
                    <div class="transaction-details">
                        <div class="transaction-name">Livraison - Uber Eats</div>
                        <div class="transaction-date">05/12/2025 19:45:22</div>
                        <div class="transaction-cashback">+0.92 ‚Ç¨ cashback (4%)</div>
                        <div class="transaction-status">‚úÖ Compl√©t√©</div>
                        <div style="font-size: 11px; color: #3b82f6; margin-top: 5px;">üé´ Cliquer pour voir le ticket</div>
                    </div>
                    <div class="transaction-amount negative">-22.90 EUR</div>
                </div>

                <div class="transaction-item" onclick="afficherTicket('Recharge', 100.00, 0, '04/12/2025 08:15:30', 'TRX-REC-089378')" style="cursor: pointer; transition: all 0.3s;">
                    <div class="transaction-icon">üí≥</div>
                    <div class="transaction-details">
                        <div class="transaction-name">Recharge Wallet PaieCash</div>
                        <div class="transaction-date">04/12/2025 08:15:30</div>
                        <div class="transaction-status">‚úÖ Compl√©t√©</div>
                        <div style="font-size: 11px; color: #3b82f6; margin-top: 5px;">üé´ Cliquer pour voir le ticket</div>
                    </div>
                    <div class="transaction-amount positive">+100.00 EUR</div>
                </div>

                <div class="transaction-item" onclick="afficherTicket('D√©cathlon', 89.99, 5.40, '03/12/2025 15:20:45', 'TRX-DEC-089379')" style="cursor: pointer; transition: all 0.3s;">
                    <div class="transaction-icon">‚öΩ</div>
                    <div class="transaction-details">
                        <div class="transaction-name">√âquipement Sport - D√©cathlon</div>
                        <div class="transaction-date">03/12/2025 15:20:45</div>
                        <div class="transaction-cashback">+5.40 ‚Ç¨ cashback (6%)</div>
                        <div class="transaction-status">‚úÖ Compl√©t√©</div>
                        <div style="font-size: 11px; color: #3b82f6; margin-top: 5px;">üé´ Cliquer pour voir le ticket</div>
                    </div>
                    <div class="transaction-amount negative">-89.99 EUR</div>
                </div>
            </div>
        </div>

        <!-- AUTRES SECTIONS -->
        <div class="section" id="fidelite">
            <div class="card">
                <div class="card-title">Programme Fid√©lit√©</div>
                <p>Niveau Platine üíé</p>
                <p>4,250 / 10,000 points</p>
            </div>
        </div>

        <div class="section" id="legendes">
            <div class="card">
                <div class="card-title">L√©gendes & Ambassadeurs</div>
                <p>Contenu √† venir...</p>
            </div>
        </div>

        <div class="section" id="billets">
            <div class="card">
                <div class="card-title">Billetterie NFT</div>
                <p>Contenu √† venir...</p>
            </div>
        </div>

        <div class="section" id="boutique">
            <div class="card">
                <div class="card-title">Boutique NFT</div>
                <p>Contenu √† venir...</p>
            </div>
        </div>

        <div class="section" id="profil">
            <div class="card">
                <div class="card-title">Mon Profil</div>
                <p>test test</p>
                <p>etot@paiecash.com</p>
            </div>
        </div>
    </div>

    <!-- MODAL -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">√ó</span>
            <div class="modal-title" id="modalTitle"></div>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // √âTAT GLOBAL - Gestion des soldes en temps r√©el
        let state = {
            wallet: 625.00,
            carte: 622.50,
            cashback: 37.20
        };

        // MENU McDONALD'S
        const menuMcDonalds = [
            { id: 1, nom: "Big Mac Menu", prix: 9.50, emoji: "üçî" },
            { id: 2, nom: "McChicken Menu", prix: 8.90, emoji: "üçó" },
            { id: 3, nom: "Royal Deluxe Menu", prix: 10.50, emoji: "üëë" },
            { id: 4, nom: "Filet-O-Fish Menu", prix: 8.50, emoji: "üêü" },
            { id: 5, nom: "McFlurry", prix: 3.50, emoji: "üç¶" },
            { id: 6, nom: "Happy Meal", prix: 4.50, emoji: "üéÅ" }
        ];

        // UPDATE SOLDES
        function updateSoldes() {
            const total = state.wallet + state.carte + state.cashback;
            document.getElementById('soldeTotal').textContent = total.toFixed(2) + ' ‚Ç¨';
            document.getElementById('soldeWallet').textContent = state.wallet.toFixed(2);
            document.getElementById('soldeCarte').textContent = state.carte.toFixed(2);
            document.getElementById('cashback').textContent = state.cashback.toFixed(2);
            document.getElementById('walletTransfert').textContent = state.wallet.toFixed(2);
            document.getElementById('carteTransfert').textContent = state.carte.toFixed(2);
        }

        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }

        function openModal(type) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            if (type === 'call') {
                title.textContent = 'üìû Appel Vocal';
                body.innerHTML = '<p>Fonctionnalit√© d\'appel vocal</p><button class="btn" onclick="closeModal()">Fermer</button>';
            } else if (type === 'transfer') {
                title.textContent = 'üí∏ Transf√©rer de l\'argent';
                body.innerHTML = '<p>Transf√©rer de l\'argent √† un ami</p><button class="btn" onclick="closeModal()">Fermer</button>';
            }

            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // PAIEMENT 1 CLIC PARTENAIRE
        function payer1Clic(partenaire, montant, cashbackPct) {
            const cashback = (montant * cashbackPct / 100).toFixed(2);
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üí≥ Paiement 1 Clic';
            body.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 60px; margin: 20px 0;">‚úÖ</div>
                    <h3 style="color: #22c55e; margin-bottom: 20px;">Paiement r√©ussi !</h3>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 15px; text-align: left; margin: 20px 0;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Marchand :</span>
                            <strong>${partenaire}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Montant :</span>
                            <strong style="color: #ef4444;">-${montant.toFixed(2)} ‚Ç¨</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Cashback (${cashbackPct}%) :</span>
                            <strong style="color: #22c55e;">+${cashback} ‚Ç¨</strong>
                        </div>
                        <hr style="margin: 15px 0; border: none; border-top: 1px solid rgba(255,255,255,0.2);">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Date :</span>
                            <strong>${new Date().toLocaleString('fr-FR')}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                            <span>ID Transaction :</span>
                            <strong>TRX-${Math.random().toString(36).substr(2, 9).toUpperCase()}</strong>
                        </div>
                    </div>
                    <p style="color: #64748b; font-size: 13px; margin: 20px 0;">Le cashback sera cr√©dit√© dans 24-48h</p>
                    <button class="btn" onclick="closeModal()">‚úÖ Fermer</button>
                </div>
            `;
            modal.classList.add('active');
        }

        // AFFICHER TICKET DE TRANSACTION
        function afficherTicket(nom, montant, cashback, date, txId) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üé´ Ticket de Transaction';
            body.innerHTML = `
                <div style="background: white; color: #1e293b; padding: 30px; border-radius: 15px; font-family: 'Courier New', monospace;">
                    <div style="text-align: center; border-bottom: 2px dashed #cbd5e1; padding-bottom: 20px; margin-bottom: 20px;">
                        <h2 style="color: #3b82f6; margin: 0;">PaieCash</h2>
                        <div style="font-size: 12px; color: #64748b; margin-top: 5px;">Olympique de Marseille</div>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">
                            <span style="color: #64748b;">Marchand</span>
                            <strong>${nom}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">
                            <span style="color: #64748b;">Date</span>
                            <strong>${date}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0;">
                            <span style="color: #64748b;">ID Transaction</span>
                            <strong>${txId}</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 2px solid #cbd5e1; margin-top: 15px;">
                            <span style="font-size: 18px;">MONTANT</span>
                            <strong style="font-size: 24px; color: ${montant > 0 ? '#22c55e' : '#ef4444'};">${montant > 0 ? '+' : '-'}${Math.abs(montant).toFixed(2)} ‚Ç¨</strong>
                        </div>
                        ${cashback > 0 ? `
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; background: #ecfdf5; margin-top: 10px; padding: 10px; border-radius: 8px;">
                            <span style="color: #059669;">üí∞ Cashback</span>
                            <strong style="color: #059669;">+${cashback.toFixed(2)} ‚Ç¨</strong>
                        </div>
                        ` : ''}
                    </div>

                    <div style="text-align: center; border-top: 2px dashed #cbd5e1; padding-top: 20px; margin-top: 20px;">
                        <div style="font-size: 60px; line-height: 1;">üì≤</div>
                        <div style="font-size: 11px; color: #64748b; margin-top: 10px;">Merci pour votre paiement !</div>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button class="btn btn-secondary" onclick="telechargerTicket('${txId}')">üì• T√©l√©charger PDF</button>
                    <button class="btn" onclick="closeModal()">Fermer</button>
                </div>
            `;
            modal.classList.add('active');
        }

        // T√âL√âCHARGER TICKET (simulation)
        function telechargerTicket(txId) {
            alert('üì• T√©l√©chargement du ticket ' + txId + ' en PDF...\n\n(Fonctionnalit√© en d√©veloppement)');
        }

        // D√âCONNEXION
        function seDeconnecter() {
            if (confirm('üö™ Voulez-vous vraiment vous d√©connecter ?')) {
                window.location.href = 'accueil-clubs.html';
            }
        }

        // RECHARGER WALLET
        function rechargerWallet() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üí∞ Recharger Wallet';
            body.innerHTML = `
                <div>
                    <p style="margin-bottom: 20px;">Solde actuel: <strong>${state.wallet.toFixed(2)} ‚Ç¨</strong></p>
                    <p style="margin-bottom: 15px;">Choisissez le montant √† recharger :</p>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px;">
                        <button class="btn" onclick="confirmerRecharge(20)">20 ‚Ç¨</button>
                        <button class="btn" onclick="confirmerRecharge(50)">50 ‚Ç¨</button>
                        <button class="btn" onclick="confirmerRecharge(100)">100 ‚Ç¨</button>
                        <button class="btn" onclick="confirmerRecharge(200)">200 ‚Ç¨</button>
                        <button class="btn" onclick="confirmerRecharge(500)">500 ‚Ç¨</button>
                        <button class="btn" onclick="confirmerRecharge(1000)">1000 ‚Ç¨</button>
                    </div>
                    <input type="number" id="montantPersonnalise" placeholder="Montant personnalis√©" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <button class="btn" onclick="confirmerRecharge(document.getElementById('montantPersonnalise').value)">‚úÖ Recharger montant personnalis√©</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function confirmerRecharge(montant) {
            state.wallet += parseFloat(montant);
            updateSoldes();
            alert('‚úÖ Rechargement de ' + montant + ' ‚Ç¨ effectu√© avec succ√®s !\n\nNouveau solde Wallet : ' + state.wallet.toFixed(2) + ' ‚Ç¨');
            closeModal();
        }

        // RETIRER VERS CARTE
        function retirerVersCarte() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üí∏ Retirer vers Carte';
            body.innerHTML = `
                <div>
                    <p style="margin-bottom: 20px;">Solde Wallet disponible : <strong>${state.wallet.toFixed(2)} ‚Ç¨</strong></p>
                    <p style="margin-bottom: 20px;">Montant √† retirer :</p>
                    <input type="number" id="montantRetrait" placeholder="Montant (max ${state.wallet.toFixed(2)}‚Ç¨)" max="${state.wallet}" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <button class="btn" onclick="confirmerRetrait()">‚úÖ Retirer vers Carte Bancaire</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function confirmerRetrait() {
            const montant = parseFloat(document.getElementById('montantRetrait').value);
            if (montant > 0 && montant <= state.wallet) {
                state.wallet -= montant;
                state.carte += montant;
                updateSoldes();
                alert('‚úÖ Retrait de ' + montant.toFixed(2) + ' ‚Ç¨ vers votre carte effectu√© !\n\nNouveau solde Wallet : ' + state.wallet.toFixed(2) + ' ‚Ç¨\nNouveau solde Carte : ' + state.carte.toFixed(2) + ' ‚Ç¨');
                closeModal();
            } else {
                alert('‚ùå Montant invalide. Veuillez entrer un montant entre 1 et ' + state.wallet.toFixed(2) + ' ‚Ç¨');
            }
        }

        // VIREMENT AUTOMATIQUE
        function activerVirementAuto() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üîÑ Virement Automatique';
            body.innerHTML = `
                <div>
                    <p style="margin-bottom: 20px;">Configurez les retraits automatiques de votre Wallet vers votre Carte Bancaire</p>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px;">üìä Seuil de d√©clenchement :</label>
                        <select style="width: 100%; padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2);">
                            <option>Quand Wallet > 1000 ‚Ç¨</option>
                            <option>Quand Wallet > 500 ‚Ç¨</option>
                            <option>Quand Wallet > 200 ‚Ç¨</option>
                        </select>
                    </div>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px;">üí∞ Montant √† transf√©rer :</label>
                        <select style="width: 100%; padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2);">
                            <option>Tout le surplus</option>
                            <option>50% du surplus</option>
                            <option>Montant fixe (100 ‚Ç¨)</option>
                        </select>
                    </div>
                    <button class="btn">‚úÖ Activer Virement Auto</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        // BNPL - PAYER PLUS TARD
        function ouvrirBNPL() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üí≥ BNPL - Payer Plus Tard';
            body.innerHTML = `
                <div>
                    <p style="margin-bottom: 20px;">Achetez maintenant, payez plus tard en plusieurs fois</p>
                    <input type="number" id="montantBNPL" placeholder="Montant de l'achat (‚Ç¨)" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 20px;">
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px;">
                        <div onclick="selectBNPL(3)" style="background: linear-gradient(135deg, #10b981, #059669); padding: 15px; border-radius: 10px; cursor: pointer; text-align: center;">
                            <div style="font-size: 24px; font-weight: bold;">3x</div>
                            <div style="font-size: 11px; margin-top: 5px;">SANS FRAIS</div>
                        </div>
                        <div onclick="selectBNPL(4)" style="background: linear-gradient(135deg, #f59e0b, #d97706); padding: 15px; border-radius: 10px; cursor: pointer; text-align: center;">
                            <div style="font-size: 24px; font-weight: bold;">4x</div>
                            <div style="font-size: 11px; margin-top: 5px;">1.5% frais</div>
                        </div>
                        <div onclick="selectBNPL(6)" style="background: linear-gradient(135deg, #ef4444, #dc2626); padding: 15px; border-radius: 10px; cursor: pointer; text-align: center;">
                            <div style="font-size: 24px; font-weight: bold;">6x</div>
                            <div style="font-size: 11px; margin-top: 5px;">2.5% frais</div>
                        </div>
                    </div>
                    
                    <button class="btn btn-secondary" onclick="closeModal()">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function selectBNPL(fois) {
            const montant = document.getElementById('montantBNPL').value;
            if (montant > 0) {
                let frais = 0;
                if (fois === 4) frais = montant * 0.015;
                if (fois === 6) frais = montant * 0.025;
                const total = parseFloat(montant) + frais;
                const mensualite = (total / fois).toFixed(2);
                
                alert('‚úÖ Paiement en ' + fois + 'x accept√© !\n\n' +
                      'Montant initial : ' + montant + ' ‚Ç¨\n' +
                      'Frais : ' + frais.toFixed(2) + ' ‚Ç¨\n' +
                      'Total : ' + total.toFixed(2) + ' ‚Ç¨\n' +
                      'Mensualit√© : ' + mensualite + ' ‚Ç¨ √ó ' + fois + ' mois');
                closeModal();
            } else {
                alert('‚ùå Veuillez entrer un montant valide');
            }
        }

        // PAYER AVEC CRYPTO
        function payerAvecCrypto(crypto, solde, euroValue) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üíé Payer avec ' + crypto;
            body.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 60px; margin: 20px 0;">üí≥</div>
                    <p style="margin-bottom: 20px;">Solde disponible : <strong>${solde} ${crypto}</strong> (‚âà ${euroValue} ‚Ç¨)</p>
                    <input type="number" id="montantCrypto" placeholder="Montant √† payer (‚Ç¨)" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <button class="btn" onclick="confirmerPaiementCrypto('${crypto}', ${euroValue})">‚úÖ Payer maintenant</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function confirmerPaiementCrypto(crypto, euroValue) {
            const montant = document.getElementById('montantCrypto').value;
            if (montant > 0 && montant <= euroValue) {
                alert('‚úÖ Paiement de ' + montant + ' ‚Ç¨ avec ' + crypto + ' effectu√© !\n\nTransaction blockchain confirm√©e.\nID : 0x' + Math.random().toString(16).substr(2, 40));
                closeModal();
            } else {
                alert('‚ùå Montant invalide ou insuffisant');
            }
        }

        // CONVERTIR CRYPTO
        function convertirCrypto() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üîÑ Convertir / √âchanger';
            body.innerHTML = `
                <div>
                    <p style="margin-bottom: 20px;">Convertissez vos crypto-monnaies</p>
                    <select id="cryptoSource" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                        <option>USDC (847.30 $)</option>
                        <option>USDT (523.80 $)</option>
                        <option>Ethereum (0.084 ETH)</option>
                        <option>OM Coin (2,450 OMC)</option>
                    </select>
                    <div style="text-align: center; margin: 10px 0; font-size: 24px;">‚¨áÔ∏è</div>
                    <select id="cryptoCible" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                        <option>Euro (EUR)</option>
                        <option>USDC</option>
                        <option>USDT</option>
                        <option>Ethereum</option>
                        <option>OM Coin</option>
                    </select>
                    <input type="number" placeholder="Montant √† convertir" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <button class="btn">‚úÖ Convertir maintenant</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        // AFFICHER QR CODE
        function afficherQRCode() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üì≤ QR Code de Paiement';
            body.innerHTML = `
                <div style="text-align: center;">
                    <p style="margin-bottom: 20px;">Faites scanner ce QR Code pour recevoir un paiement</p>
                    <div style="background: white; padding: 30px; border-radius: 15px; display: inline-block;">
                        <div style="font-size: 200px; line-height: 1;">‚¨õ</div>
                        <div style="font-size: 11px; color: #1e293b; margin-top: 10px;">ID: PAIECASH-OM-${Math.random().toString(36).substr(2, 9).toUpperCase()}</div>
                    </div>
                    <p style="margin-top: 20px; font-size: 13px; color: #64748b;">QR Code valide pendant 15 minutes</p>
                    <button class="btn" onclick="closeModal()" style="margin-top: 20px;">Fermer</button>
                </div>
            `;
            modal.classList.add('active');
        }

        // COPIER LIEN DE PAIEMENT
        function copierLienPaiement() {
            const lien = 'https://paiecash.com/pay/om-' + Math.random().toString(36).substr(2, 12);
            navigator.clipboard.writeText(lien).then(() => {
                alert('‚úÖ Lien de paiement copi√© !\n\n' + lien + '\n\nPartagez ce lien par SMS ou email pour recevoir un paiement.');
            });
        }

        // CASH IN
        function cashIn() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üí∞ Cash In - D√©poser Esp√®ces';
            body.innerHTML = `
                <div>
                    <div style="background: linear-gradient(135deg, #22c55e, #16a34a); padding: 20px; border-radius: 15px; color: white; margin-bottom: 20px;">
                        <div style="font-size: 20px; margin-bottom: 10px;">üè™ Point Agent OM</div>
                        <div style="font-size: 13px;">üìç Boutique Orange V√©lodrome</div>
                        <div style="font-size: 13px;">üïí Ouvert 9h-19h</div>
                    </div>
                    <p style="margin-bottom: 20px;">Rendez-vous au point agent avec vos esp√®ces</p>
                    <input type="number" id="montantCashIn" placeholder="Montant en esp√®ces (‚Ç¨)" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <button class="btn" onclick="confirmerCashIn()">‚úÖ Simuler d√©p√¥t esp√®ces</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function confirmerCashIn() {
            const montant = document.getElementById('montantCashIn').value;
            if (montant > 0) {
                alert('‚úÖ D√©p√¥t de ' + montant + ' ‚Ç¨ en esp√®ces confirm√© !\n\nVotre Wallet a √©t√© cr√©dit√©.\nNouveau solde : ' + (625 + parseFloat(montant)) + ' ‚Ç¨\n\nCode de confirmation : CI-' + Math.random().toString(36).substr(2, 8).toUpperCase());
                closeModal();
            } else {
                alert('‚ùå Veuillez entrer un montant valide');
            }
        }

        // CASH OUT
        function cashOut() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üí∏ Cash Out - Retirer Esp√®ces';
            body.innerHTML = `
                <div>
                    <div style="background: linear-gradient(135deg, #22c55e, #16a34a); padding: 20px; border-radius: 15px; color: white; margin-bottom: 20px;">
                        <div style="font-size: 20px; margin-bottom: 10px;">üè™ Point Agent OM</div>
                        <div style="font-size: 13px;">üìç Boutique Orange V√©lodrome</div>
                        <div style="font-size: 13px;">üïí Ouvert 9h-19h</div>
                    </div>
                    <p style="margin-bottom: 20px;">Solde Wallet disponible : <strong>625.00 ‚Ç¨</strong></p>
                    <input type="number" id="montantCashOut" placeholder="Montant √† retirer (‚Ç¨)" max="625" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <button class="btn" onclick="confirmerCashOut()">‚úÖ G√©n√©rer code retrait</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function confirmerCashOut() {
            const montant = document.getElementById('montantCashOut').value;
            if (montant > 0 && montant <= 625) {
                const code = 'CO-' + Math.random().toString(36).substr(2, 8).toUpperCase();
                alert('‚úÖ Code de retrait g√©n√©r√© !\n\nüí≥ CODE : ' + code + '\nüí∞ Montant : ' + montant + ' ‚Ç¨\n\nPr√©sentez ce code au Point Agent OM pour r√©cup√©rer vos esp√®ces.\n‚è∞ Code valide pendant 48h');
                closeModal();
            } else {
                alert('‚ùå Montant invalide ou insuffisant');
            }
        }

        // PAYER AVEC MODE TOURISTE
        function payerAvecModeTouriste(methode) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = 'üåç Payer avec ' + methode;
            body.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 60px; margin: 20px 0;">üåè</div>
                    <h3 style="margin-bottom: 20px;">Mode Touriste</h3>
                    <p style="margin-bottom: 20px;">Connectez votre compte <strong>${methode}</strong> pour payer</p>
                    <input type="text" placeholder="ID ${methode}" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <input type="number" placeholder="Montant (‚Ç¨)" style="width: 100%; padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 15px;">
                    <button class="btn">‚úÖ Payer avec ${methode}</button>
                    <button class="btn btn-secondary" onclick="closeModal()" style="margin-top: 10px;">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        // OUVRIR MENU PARTENAIRE
        function ouvrirMenuPartenaire(partenaire, cashbackPct) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            let menu = [];
            if (partenaire === "McDonald's") {
                menu = menuMcDonalds;
            } else {
                // Autres partenaires √† d√©velopper
                alert('Menu ' + partenaire + ' √† venir prochainement !');
                return;
            }

            title.textContent = `üçî Menu ${partenaire} (${cashbackPct}% cashback)`;
            body.innerHTML = `
                <div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;" id="menu-grid">
                        ${menu.map(item => `
                            <div class="product-card" onclick="toggleMenuItem(${item.id}, ${item.prix}, '${item.nom}')" id="menu-item-${item.id}" style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 15px; cursor: pointer; transition: all 0.3s; text-align: center;">
                                <div style="font-size: 40px; margin-bottom: 10px;">${item.emoji}</div>
                                <div style="font-weight: bold; margin-bottom: 5px;">${item.nom}</div>
                                <div style="color: #4ade80; font-size: 16px; font-weight: bold;">${item.prix.toFixed(2)} ‚Ç¨</div>
                            </div>
                        `).join('')}
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: rgba(59, 130, 246, 0.2); border-radius: 10px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Total:</span>
                            <strong id="totalMenu" style="color: #4ade80; font-size: 20px;">0.00 ‚Ç¨</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 5px;">
                            <span>Cashback ${cashbackPct}%:</span>
                            <strong id="cashbackMenu" style="color: #4ade80;">0.00 ‚Ç¨</strong>
                        </div>
                    </div>
                    <button class="btn" onclick="payerMenuPartenaire('${partenaire}', ${cashbackPct})" style="margin-top: 15px;">üí≥ Payer en 1 Clic</button>
                    <button class="btn btn-secondary" onclick="closeModal()">Annuler</button>
                </div>
            `;
            
            window.menuSelection = [];
            window.partenaireCashback = cashbackPct;
            
            modal.classList.add('active');
        }

        // TOGGLE MENU ITEM
        function toggleMenuItem(id, prix, nom) {
            const element = document.getElementById(`menu-item-${id}`);
            const index = window.menuSelection.findIndex(item => item.id === id);
            
            if (index > -1) {
                window.menuSelection.splice(index, 1);
                element.style.border = 'none';
                element.style.background = 'rgba(255, 255, 255, 0.1)';
            } else {
                window.menuSelection.push({ id, prix, nom });
                element.style.border = '3px solid #4ade80';
                element.style.background = 'rgba(74, 222, 128, 0.2)';
            }
            
            const total = window.menuSelection.reduce((sum, item) => sum + item.prix, 0);
            const cashback = total * (window.partenaireCashback / 100);
            
            document.getElementById('totalMenu').textContent = total.toFixed(2) + ' ‚Ç¨';
            document.getElementById('cashbackMenu').textContent = cashback.toFixed(2) + ' ‚Ç¨';
        }

        // PAYER MENU PARTENAIRE
        function payerMenuPartenaire(partenaire, cashbackPct) {
            if (window.menuSelection.length === 0) {
                alert('‚ùå Veuillez s√©lectionner au moins un produit');
                return;
            }
            
            const total = window.menuSelection.reduce((sum, item) => sum + item.prix, 0);
            const cashback = total * (cashbackPct / 100);
            
            if (state.wallet >= total) {
                state.wallet -= total;
                state.cashback += cashback;
                updateSoldes();
                
                const produits = window.menuSelection.map(item => item.nom).join(', ');
                alert(`‚úÖ Paiement 1 Clic r√©ussi chez ${partenaire} !\n\nProduits: ${produits}\nTotal: ${total.toFixed(2)} ‚Ç¨\nCashback: +${cashback.toFixed(2)} ‚Ç¨\n\nLe cashback sera cr√©dit√© dans 24-48h`);
                closeModal();
            } else {
                alert('‚ùå Solde Wallet insuffisant. Solde actuel : ' + state.wallet.toFixed(2) + ' ‚Ç¨');
            }
        }

        // VOIR PIN CARTE
        function voirPIN() {
            const pin = '1234';
            alert(`üîê Code PIN de votre carte :\n\n${pin}\n\n‚ö†Ô∏è Ne partagez jamais votre PIN avec personne !`);
        }

        // G√âRER LIMITES CARTE
        function gererLimites() {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');

            title.textContent = '‚öôÔ∏è G√©rer les Limites de Carte';
            body.innerHTML = `
                <div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px;">üí≥ Limite quotidienne de paiement:</label>
                        <input type="number" value="1000" style="width: 100%; padding: 15px; border-radius: 10px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2);">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px;">üí∞ Limite quotidienne de retrait DAB:</label>
                        <input type="number" value="500" style="width: 100%; padding: 15px; border-radius: 10px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2);">
                    </div>
                    <button class="btn" onclick="alert('‚úÖ Limites enregistr√©es avec succ√®s !'); closeModal();">‚úÖ Enregistrer</button>
                    <button class="btn btn-secondary" onclick="closeModal()">Annuler</button>
                </div>
            `;
            modal.classList.add('active');
        }

        // BLOQUER CARTE
        function bloquerCarte() {
            if (confirm('üîí Voulez-vous vraiment bloquer votre carte ?\n\nVous pourrez la d√©bloquer √† tout moment.')) {
                alert('‚úÖ Carte bloqu√©e avec succ√®s !\n\nVous pouvez la d√©bloquer depuis cette m√™me interface.');
            }
        }
    </script>
</body>
</html>