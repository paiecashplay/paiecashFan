<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§ª Test Recherche Clubs</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 30px;
            color: white;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(0,0,0,0.3);
            border-radius: 25px;
            padding: 40px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .search-box {
            margin-bottom: 30px;
        }
        
        input {
            width: 100%;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255,255,255,0.3);
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 18px;
        }
        
        input:focus {
            outline: none;
            border-color: #10b981;
        }
        
        .results {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .result-item {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .result-item:hover {
            background: rgba(16,185,129,0.3);
            transform: translateX(10px);
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            opacity: 0.7;
        }
        
        .debug {
            background: #1a1a1a;
            color: #0f0;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .debug-line {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Test Recherche Clubs</h1>
        
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Tapez le nom d'un club : PSG, OM, Liverpool, Man City..." autofocus>
        </div>
        
        <div class="results" id="results">
            <div class="no-results">
                <div style="font-size: 60px; margin-bottom: 15px;">ğŸ”</div>
                <div>Tapez quelque chose pour commencer la recherche</div>
            </div>
        </div>
        
        <div class="debug" id="debug">
            <div class="debug-line">ğŸ“Š Console de Debug</div>
        </div>
    </div>
    
    <script>
        // Base de donnÃ©es des clubs avec alias
        const clubNames = {
            'olympique-de-marseille': { 
                name: 'Olympique de Marseille',
                alias: ['OM', 'Marseille'],
                icon: 'âšªğŸ”µ'
            },
            'paris-saint-germain': { 
                name: 'Paris Saint-Germain',
                alias: ['PSG', 'Paris'],
                icon: 'ğŸ”´ğŸ”µ'
            },
            'olympique-lyonnais': { 
                name: 'Olympique Lyonnais',
                alias: ['OL', 'Lyon'],
                icon: 'ğŸ”´ğŸ”µ'
            },
            'as-monaco': { 
                name: 'AS Monaco',
                alias: ['Monaco', 'ASM'],
                icon: 'ğŸ”´âšª'
            },
            'losc-lille': { 
                name: 'LOSC Lille',
                alias: ['Lille', 'LOSC'],
                icon: 'ğŸ”´âšª'
            },
            'rc-lens': { 
                name: 'RC Lens',
                alias: ['Lens', 'Racing'],
                icon: 'ğŸŸ¡ğŸ”´'
            },
            'sco-angers': { 
                name: 'SCO Angers',
                alias: ['Angers', 'SCO'],
                icon: 'âšªâš«'
            },
            'stade-rennais': { 
                name: 'Stade Rennais',
                alias: ['Rennes', 'Stade'],
                icon: 'ğŸ”´âš«'
            },
            'ogc-nice': { 
                name: 'OGC Nice',
                alias: ['Nice', 'OGC'],
                icon: 'ğŸ”´âš«'
            },
            'arsenal': { 
                name: 'Arsenal FC',
                alias: ['Arsenal', 'Gunners'],
                icon: 'ğŸ”´âšª'
            },
            'liverpool': { 
                name: 'Liverpool FC',
                alias: ['Liverpool', 'Reds', 'LFC'],
                icon: 'ğŸ”´'
            },
            'manchester-city': { 
                name: 'Manchester City',
                alias: ['Man City', 'City', 'Citizens'],
                icon: 'ğŸ’™'
            },
            'bayern-munich': { 
                name: 'Bayern Munich',
                alias: ['Bayern', 'Munich'],
                icon: 'ğŸ”´âšª'
            },
            'real-madrid': { 
                name: 'Real Madrid',
                alias: ['Real', 'Madrid', 'Merengues'],
                icon: 'âšª'
            },
            'galatasaray': { 
                name: 'Galatasaray SK',
                alias: ['Galatasaray', 'Gala', 'Cimbom'],
                icon: 'ğŸŸ¡ğŸ”´'
            },
            'fenerbahce': { 
                name: 'FenerbahÃ§e SK',
                alias: ['FenerbahÃ§e', 'Fener', 'Fenerbahce'],
                icon: 'ğŸŸ¡ğŸ”µ'
            },
            'besiktas': { 
                name: 'BeÅŸiktaÅŸ JK',
                alias: ['BeÅŸiktaÅŸ', 'Besiktas', 'BJK'],
                icon: 'âš«âšª'
            }
        };
        
        const searchInput = document.getElementById('searchInput');
        const resultsDiv = document.getElementById('results');
        const debugDiv = document.getElementById('debug');
        
        let searchTimeout;
        
        function addDebug(message) {
            const line = document.createElement('div');
            line.className = 'debug-line';
            line.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            debugDiv.appendChild(line);
            debugDiv.scrollTop = debugDiv.scrollHeight;
            console.log(message);
        }
        
        function performSearch(query) {
            addDebug(`ğŸ” Recherche : "${query}"`);
            
            if (!query) {
                resultsDiv.innerHTML = `
                    <div class="no-results">
                        <div style="font-size: 60px; margin-bottom: 15px;">ğŸ”</div>
                        <div>Tapez quelque chose pour commencer la recherche</div>
                    </div>
                `;
                return;
            }
            
            const lowerQuery = query.toLowerCase();
            let results = [];
            
            // Chercher dans les clubs
            Object.entries(clubNames).forEach(([slug, data]) => {
                // Chercher dans le nom
                const matchName = data.name.toLowerCase().includes(lowerQuery);
                addDebug(`  â†’ VÃ©rifie "${data.name}": nom=${matchName}`);
                
                // Chercher dans les alias
                let matchAlias = false;
                let matchedAlias = '';
                if (data.alias) {
                    data.alias.forEach(alias => {
                        if (alias.toLowerCase().includes(lowerQuery)) {
                            matchAlias = true;
                            matchedAlias = alias;
                        }
                    });
                }
                
                if (matchAlias) {
                    addDebug(`  â†’ VÃ©rifie "${data.name}": alias="${matchedAlias}" âœ…`);
                }
                
                if (matchName || matchAlias) {
                    results.push({
                        slug: slug,
                        name: data.name,
                        icon: data.icon,
                        matchType: matchName ? 'nom' : `alias (${matchedAlias})`
                    });
                    addDebug(`  âœ… TROUVÃ‰ : ${data.name} (via ${matchName ? 'nom' : 'alias'})`);
                }
            });
            
            addDebug(`ğŸ“Š Total rÃ©sultats : ${results.length}`);
            
            // Afficher les rÃ©sultats
            if (results.length === 0) {
                resultsDiv.innerHTML = `
                    <div class="no-results">
                        <div style="font-size: 60px; margin-bottom: 15px;">âŒ</div>
                        <div style="font-size: 18px; font-weight: bold; margin-bottom: 10px;">Aucun rÃ©sultat pour "${query}"</div>
                        <div style="font-size: 14px; opacity: 0.8;">Essayez : PSG, OM, Liverpool, Man City, etc.</div>
                    </div>
                `;
            } else {
                resultsDiv.innerHTML = `
                    <div style="padding: 15px; background: rgba(16,185,129,0.2); border-radius: 10px; margin-bottom: 15px;">
                        <strong>${results.length}</strong> rÃ©sultat${results.length > 1 ? 's' : ''} trouvÃ©${results.length > 1 ? 's' : ''} pour "<strong>${query}</strong>"
                    </div>
                    ${results.map(r => `
                        <div class="result-item" onclick="selectClub('${r.slug}', '${r.name}')">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="font-size: 32px;">${r.icon}</div>
                                <div style="flex: 1;">
                                    <div style="font-size: 18px; font-weight: bold; margin-bottom: 5px;">${r.name}</div>
                                    <div style="font-size: 13px; opacity: 0.7;">TrouvÃ© via : ${r.matchType}</div>
                                </div>
                                <div style="font-size: 24px;">â†’</div>
                            </div>
                        </div>
                    `).join('')}
                `;
            }
        }
        
        function selectClub(slug, name) {
            addDebug(`ğŸ¯ Club sÃ©lectionnÃ© : ${name} (${slug})`);
            alert(`âœ… Vous avez sÃ©lectionnÃ© : ${name}\n\nSlug : ${slug}\n\nDans l'app rÃ©elle, vous seriez redirigÃ© vers :\napp-universal-simple.html?club=${slug}`);
        }
        
        // Ã‰couter la frappe
        searchInput.addEventListener('input', function(e) {
            const query = e.target.value.trim();
            
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                performSearch(query);
            }, 300);
        });
        
        // Initialisation
        addDebug('ğŸš€ Page de test chargÃ©e');
        addDebug(`ğŸ“Š ${Object.keys(clubNames).length} clubs dans la base de donnÃ©es`);
        addDebug('ğŸ‘‰ Tapez quelque chose pour tester la recherche');
    </script>
</body>
</html>
