<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaieCashFan - Tous les Sports, Tous les Supporters</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            min-height: 100vh;
            color: white;
        }

        /* LOADER */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.5s ease;
        }

        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader-logo {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .loader-text {
            font-size: 18px;
            margin-top: 20px;
        }

        /* HEADER */
        .header {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            background: linear-gradient(to right, #fff, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        /* LANGUAGE SELECTOR */
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            padding: 10px 15px;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .lang-btn {
            background: transparent;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
            opacity: 0.6;
        }

        .lang-btn.active {
            background: rgba(255, 255, 255, 0.2);
            opacity: 1;
            transform: scale(1.1);
        }

        /* SPORT FILTERS */
        .sport-filters {
            display: flex;
            justify-content: center;
            padding: 20px;
            gap: 15px;
            flex-wrap: wrap;
        }

        .sport-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sport-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .sport-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        /* SEARCH BAR */
        .search-container {
            max-width: 600px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .search-bar {
            width: 100%;
            padding: 15px 20px;
            border-radius: 30px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-bar:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .search-bar::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        /* STORIES HORIZONTAL */
        .stories-section {
            padding: 20px;
            overflow-x: auto;
            overflow-y: hidden;
            white-space: nowrap;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .stories-section::-webkit-scrollbar {
            display: none;
        }

        .stories-container {
            display: inline-flex;
            gap: 15px;
            padding-bottom: 10px;
        }

        .story {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .story:hover {
            transform: scale(1.05);
        }

        .story-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 3px;
            margin-bottom: 8px;
            position: relative;
        }

        .story-avatar.has-new {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .story-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgba(30, 60, 114, 0.9);
        }

        .story-badge {
            position: absolute;
            bottom: -5px;
            right: -5px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid #1e3c72;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .story-name {
            font-size: 13px;
            font-weight: 500;
            white-space: normal;
            text-align: center;
            max-width: 80px;
            word-wrap: break-word;
        }

        /* CLUBS GRID */
        .clubs-section {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .clubs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .club-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .club-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .club-card.active {
            border-color: #4ade80;
            box-shadow: 0 0 20px rgba(74, 222, 128, 0.4);
        }

        .club-card.soon {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .club-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            border-radius: 50%;
            background: white;
            padding: 10px;
        }

        .club-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .club-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .club-info {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .club-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
        }

        .badge-active {
            background: rgba(74, 222, 128, 0.2);
            color: #4ade80;
            border: 1px solid #4ade80;
        }

        .badge-soon {
            background: rgba(251, 146, 60, 0.2);
            color: #fb923c;
            border: 1px solid #fb923c;
        }

        /* FOOTER */
        .footer {
            text-align: center;
            padding: 30px 20px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-vision {
            font-size: 16px;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .footer-info {
            font-size: 14px;
            opacity: 0.7;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }

            .sport-filters {
                gap: 10px;
            }

            .sport-btn {
                padding: 10px 16px;
                font-size: 14px;
            }

            .clubs-grid {
                grid-template-columns: 1fr;
            }

            .language-selector {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
            }
        }
    </style>
</head>
<body>
    <!-- LOADER -->
    <div class="loader" id="loader">
        <div class="loader-logo">‚öΩüèÄüèâü§æ</div>
        <div class="loader-text" data-lang="loading">Chargement de votre univers sportif...</div>
    </div>

    <!-- LANGUAGE SELECTOR -->
    <div class="language-selector">
        <button class="lang-btn active" data-lang-code="fr" onclick="switchLanguage('fr')">üá´üá∑</button>
        <button class="lang-btn" data-lang-code="en" onclick="switchLanguage('en')">üá¨üáß</button>
    </div>

    <!-- HEADER -->
    <div class="header">
        <h1>PaieCashFan</h1>
        <p data-lang="subtitle">Supporte ton Club</p>
    </div>

    <!-- SPORT FILTERS -->
    <div class="sport-filters">
        <button class="sport-btn active" data-sport="all" onclick="filterBySport('all')">
            <span>üåç</span>
            <span data-lang="all-sports">Tous les sports</span>
        </button>
        <button class="sport-btn" data-sport="football" onclick="filterBySport('football')">
            <span>‚öΩ</span>
            <span data-lang="football">Football</span>
        </button>
        <button class="sport-btn" data-sport="rugby" onclick="filterBySport('rugby')">
            <span>üèâ</span>
            <span data-lang="rugby">Rugby</span>
        </button>
        <button class="sport-btn" data-sport="basketball" onclick="filterBySport('basketball')">
            <span>üèÄ</span>
            <span data-lang="basketball">Basketball</span>
        </button>
        <button class="sport-btn" data-sport="handball" onclick="filterBySport('handball')">
            <span>ü§æ</span>
            <span data-lang="handball">Handball</span>
        </button>
    </div>

    <!-- SEARCH -->
    <div class="search-container">
        <input type="text" class="search-bar" id="searchBar" data-lang-placeholder="search" placeholder="Rechercher un club, une ligue, un pays..." onkeyup="searchClubs()">
    </div>

    <!-- STORIES HORIZONTAL -->
    <div class="stories-section">
        <div class="stories-container" id="storiesContainer">
            <!-- Stories dynamiques -->
        </div>
    </div>

    <!-- CLUBS GRID -->
    <div class="clubs-section">
        <h2 class="section-title" data-lang="clubs-title">Clubs Disponibles</h2>
        <div class="clubs-grid" id="clubsGrid">
            <!-- Clubs dynamiques -->
        </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        <div class="footer-vision" data-lang="vision">üåç Vision : Prochainement en Afrique et partout dans le monde</div>
        <div class="footer-info">¬© 2024 PaieCashFan - <span data-lang="rights">Tous droits r√©serv√©s</span></div>
    </div>

    <script>
        // TRANSLATIONS
        const translations = {
            fr: {
                'loading': 'Chargement de votre univers sportif...',
                'subtitle': 'Supporte ton Club',
                'all-sports': 'Tous les sports',
                'football': 'Football',
                'rugby': 'Rugby',
                'basketball': 'Basketball',
                'handball': 'Handball',
                'search': 'Rechercher un club, une ligue, un pays...',
                'clubs-title': 'Clubs Disponibles',
                'vision': 'üåç Vision : Prochainement en Afrique et partout dans le monde',
                'rights': 'Tous droits r√©serv√©s',
                'active': 'ACTIF',
                'soon': 'BIENT√îT',
                'fans': 'fans',
                'france': 'France',
                'spain': 'Espagne',
                'england': 'Angleterre',
                'italy': 'Italie',
                'germany': 'Allemagne'
            },
            en: {
                'loading': 'Loading your sports universe...',
                'subtitle': 'Support Your Club',
                'all-sports': 'All sports',
                'football': 'Football',
                'rugby': 'Rugby',
                'basketball': 'Basketball',
                'handball': 'Handball',
                'search': 'Search for a club, league, country...',
                'clubs-title': 'Available Clubs',
                'vision': 'üåç Vision: Coming soon to Africa and worldwide',
                'rights': 'All rights reserved',
                'active': 'ACTIVE',
                'soon': 'COMING SOON',
                'fans': 'fans',
                'france': 'France',
                'spain': 'Spain',
                'england': 'England',
                'italy': 'Italy',
                'germany': 'Germany'
            }
        };

        let currentLang = 'fr';

        // DATABASE OF CLUBS (4 sports x 4 teams)
        const clubsData = [
            // ‚öΩ FOOTBALL
            { id: 'om', name: 'Olympique de Marseille', sport: 'football', league: 'Ligue 1', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/commons/d/d8/Olympique_Marseille_logo.svg', color: '#0BBBEF', active: true, fans: 12500, link: 'app-om-v4-FINAL.html' },
            { id: 'psg', name: 'Paris Saint-Germain', sport: 'football', league: 'Ligue 1', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/7/76/Paris_Saint-Germain_logo.png', color: '#004170', active: false, fans: 28000 },
            { id: 'parisfc', name: 'Paris FC', sport: 'football', league: 'Ligue 1', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/9/92/Paris_FC_logo.png', color: '#102C54', active: true, fans: 4200, link: 'app-paris-fc-v4-FINAL.html' },
            { id: 'realmadrid', name: 'Real Madrid', sport: 'football', league: 'La Liga', country: 'spain', logo: 'https://upload.wikimedia.org/wikipedia/fr/c/c7/Logo_Real_Madrid.svg', color: '#FEBE10', active: false, fans: 45000 },

            // üèâ RUGBY
            { id: 'stade-francais', name: 'Stade Fran√ßais Paris', sport: 'rugby', league: 'Top 14', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/d/d2/Logo_Stade_fran%C3%A7ais_Paris_Rugby_2017.svg', color: '#E91E63', active: false, fans: 3200 },
            { id: 'racing92', name: 'Racing 92', sport: 'rugby', league: 'Top 14', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/3/38/Racing_92_logo_2016.svg', color: '#00A1E0', active: false, fans: 5100 },
            { id: 'toulouse', name: 'Stade Toulousain', sport: 'rugby', league: 'Top 14', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/c/c1/Logo_Stade_toulousain_-_2017.svg', color: '#E30613', active: false, fans: 8900 },
            { id: 'leinster', name: 'Leinster Rugby', sport: 'rugby', league: 'URC', country: 'ireland', logo: 'https://upload.wikimedia.org/wikipedia/en/3/3d/Leinster_Rugby_logo.svg', color: '#0072C6', active: false, fans: 12000 },

            // üèÄ BASKETBALL
            { id: 'asvel', name: 'LDLC ASVEL', sport: 'basketball', league: 'Betclic Elite', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/d/d9/Logo_LDLC_ASVEL.svg', color: '#EA232E', active: false, fans: 4800 },
            { id: 'monaco-basket', name: 'AS Monaco Basket', sport: 'basketball', league: 'Betclic Elite', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/1/1a/Logo_AS_Monaco_Basket.svg', color: '#CE1126', active: false, fans: 3500 },
            { id: 'metropolitans92', name: 'Metropolitans 92', sport: 'basketball', league: 'Betclic Elite', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/e/ef/Logo_Metropolitans_92_2021.svg', color: '#005BAA', active: false, fans: 2100 },
            { id: 'real-madrid-basket', name: 'Real Madrid Baloncesto', sport: 'basketball', league: 'Liga ACB', country: 'spain', logo: 'https://upload.wikimedia.org/wikipedia/fr/c/c7/Logo_Real_Madrid.svg', color: '#FEBE10', active: false, fans: 15000 },

            // ü§æ HANDBALL
            { id: 'psg-hand', name: 'Paris Saint-Germain Handball', sport: 'handball', league: 'Liqui Moly StarLigue', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/4/45/Logo_PSG_Handball_2014.svg', color: '#004170', active: false, fans: 6200 },
            { id: 'montpellier-hand', name: 'Montpellier Handball', sport: 'handball', league: 'Liqui Moly StarLigue', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/0/0f/Montpellier_Handball_logo_2013.svg', color: '#F7941D', active: false, fans: 4100 },
            { id: 'nantes-hand', name: 'HBC Nantes', sport: 'handball', league: 'Liqui Moly StarLigue', country: 'france', logo: 'https://upload.wikimedia.org/wikipedia/fr/b/b6/Logo_HBC_Nantes_2022.svg', color: '#FFD100', active: false, fans: 3800 },
            { id: 'barcelona-hand', name: 'FC Barcelona Handbol', sport: 'handball', league: 'Liga ASOBAL', country: 'spain', logo: 'https://upload.wikimedia.org/wikipedia/fr/8/82/Logo_FC_Barcelona_%C3%A0_partir_2019.svg', color: '#A50044', active: false, fans: 9500 }
        ];

        let filteredClubs = [...clubsData];

        // GEOLOCATION & LANGUAGE DETECTION
        function detectUserLanguage() {
            // 1. Browser language
            const browserLang = navigator.language || navigator.userLanguage;
            if (browserLang.startsWith('fr')) {
                currentLang = 'fr';
            } else {
                currentLang = 'en';
            }

            // 2. Geolocation API
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        console.log('User location:', position.coords);
                        // Future: API reverse geocoding to detect country
                    },
                    error => {
                        console.log('Geolocation not available:', error);
                    }
                );
            }

            switchLanguage(currentLang);
        }

        // SWITCH LANGUAGE
        function switchLanguage(lang) {
            currentLang = lang;
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.langCode === lang) {
                    btn.classList.add('active');
                }
            });

            // Update all translatable elements
            document.querySelectorAll('[data-lang]').forEach(el => {
                const key = el.dataset.lang;
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });

            // Update placeholders
            document.querySelectorAll('[data-lang-placeholder]').forEach(el => {
                const key = el.dataset.langPlaceholder;
                if (translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });

            // Refresh clubs display
            renderClubs();
        }

        // RENDER STORIES
        function renderStories() {
            const container = document.getElementById('storiesContainer');
            container.innerHTML = '';

            // Only show active clubs in stories
            const activeClubs = clubsData.filter(c => c.active);

            activeClubs.forEach((club, index) => {
                const sportEmoji = {
                    'football': '‚öΩ',
                    'rugby': 'üèâ',
                    'basketball': 'üèÄ',
                    'handball': 'ü§æ'
                };

                const story = document.createElement('div');
                story.className = 'story';
                story.innerHTML = `
                    <div class="story-avatar ${index % 2 === 0 ? 'has-new' : ''}">
                        <img src="${club.logo}" alt="${club.name}" class="story-img" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22%3E%3Crect fill=%22%23ddd%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 font-size=%2240%22 text-anchor=%22middle%22 dy=%22.3em%22%3E${sportEmoji[club.sport]}%3C/text%3E%3C/svg%3E'">
                        <div class="story-badge">${sportEmoji[club.sport]}</div>
                    </div>
                    <div class="story-name">${club.name.split(' ')[0]}</div>
                `;
                story.onclick = () => selectClub(club);
                container.appendChild(story);
            });
        }

        // RENDER CLUBS
        function renderClubs() {
            const container = document.getElementById('clubsGrid');
            container.innerHTML = '';

            const sportEmoji = {
                'football': '‚öΩ',
                'rugby': 'üèâ',
                'basketball': 'üèÄ',
                'handball': 'ü§æ'
            };

            filteredClubs.forEach(club => {
                const countryKey = club.country.toLowerCase();
                const countryName = translations[currentLang][countryKey] || club.country;
                
                const card = document.createElement('div');
                card.className = `club-card ${club.active ? 'active' : 'soon'}`;
                card.innerHTML = `
                    <div class="club-logo">
                        <img src="${club.logo}" alt="${club.name}" onerror="this.style.display='none'; this.parentElement.innerHTML='${sportEmoji[club.sport]}';">
                    </div>
                    <div class="club-name">${club.name}</div>
                    <div class="club-info">${sportEmoji[club.sport]} ${club.league}</div>
                    <div class="club-info">üìç ${countryName}</div>
                    <div class="club-info">üë• ${club.fans.toLocaleString(currentLang === 'fr' ? 'fr-FR' : 'en-US')} ${translations[currentLang].fans}</div>
                    <div class="club-badge ${club.active ? 'badge-active' : 'badge-soon'}">
                        ${club.active ? translations[currentLang].active : translations[currentLang].soon}
                    </div>
                `;
                
                if (club.active) {
                    card.onclick = () => selectClub(club);
                }
                
                container.appendChild(card);
            });
        }

        // FILTER BY SPORT
        function filterBySport(sport) {
            // Update active button
            document.querySelectorAll('.sport-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.sport === sport) {
                    btn.classList.add('active');
                }
            });

            // Filter clubs
            if (sport === 'all') {
                filteredClubs = [...clubsData];
            } else {
                filteredClubs = clubsData.filter(c => c.sport === sport);
            }

            renderClubs();
        }

        // SEARCH CLUBS
        function searchClubs() {
            const search = document.getElementById('searchBar').value.toLowerCase();
            
            filteredClubs = clubsData.filter(club => {
                return club.name.toLowerCase().includes(search) ||
                       club.league.toLowerCase().includes(search) ||
                       club.country.toLowerCase().includes(search) ||
                       club.sport.toLowerCase().includes(search);
            });

            renderClubs();
        }

        // SELECT CLUB
        function selectClub(club) {
            if (!club.active) {
                alert(currentLang === 'fr' 
                    ? `${club.name} arrive bient√¥t ! üöÄ` 
                    : `${club.name} coming soon! üöÄ`);
                return;
            }

            // Save selected club
            localStorage.setItem('clubChoisi', club.id);
            localStorage.setItem('clubData', JSON.stringify(club));

            // Redirect to club app
            if (club.link) {
                window.location.href = club.link;
            } else {
                alert(currentLang === 'fr'
                    ? `Redirection vers ${club.name}...`
                    : `Redirecting to ${club.name}...`);
            }
        }

        // INIT
        window.onload = () => {
            // Detect language
            detectUserLanguage();

            // Render content
            renderStories();
            renderClubs();

            // Hide loader
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 1500);
        };
    </script>
</body>
</html>